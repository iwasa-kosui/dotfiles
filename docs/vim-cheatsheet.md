# Vim/Neovim キーバインド チートシート

> `<leader>` = スペースキー（LazyVimデフォルト）

---

## 基本操作（Vimの基礎）

### モード切替

| キー | 説明 |
|------|------|
| `i` | 挿入モード（カーソル位置から入力） |
| `a` | 挿入モード（カーソルの後ろから入力） |
| `o` | 下に新しい行を作って挿入モード |
| `O` | 上に新しい行を作って挿入モード |
| `v` | ビジュアルモード（文字選択） |
| `V` | ビジュアル行モード（行選択） |
| `Ctrl+v` | ビジュアルブロックモード（矩形選択） |
| `Esc` | ノーマルモードに戻る |

### 移動

| キー | 説明 |
|------|------|
| `h` `j` `k` `l` | 左・下・上・右 |
| `w` | 次の単語の先頭へ |
| `b` | 前の単語の先頭へ |
| `e` | 単語の末尾へ |
| `0` | 行頭へ |
| `$` | 行末へ |
| `gg` | ファイル先頭へ |
| `G` | ファイル末尾へ |
| `{数字}G` | 指定行へジャンプ |
| `Ctrl+d` | 半ページ下へ |
| `Ctrl+u` | 半ページ上へ |
| `%` | 対応する括弧へジャンプ |

### 編集

| キー | 説明 |
|------|------|
| `x` | カーソル下の文字を削除 |
| `dd` | 行を削除（カット） |
| `yy` | 行をコピー（ヤンク） |
| `p` | カーソルの後ろにペースト |
| `P` | カーソルの前にペースト |
| `u` | 元に戻す（Undo） |
| `Ctrl+r` | やり直す（Redo） |
| `ciw` | 単語を削除して挿入モード |
| `diw` | 単語を削除 |
| `ci"` | ""内を削除して挿入モード |
| `.` | 直前の操作を繰り返す |

### 検索

| キー | 説明 |
|------|------|
| `/検索語` | 前方検索 |
| `?検索語` | 後方検索 |
| `n` | 次の検索結果へ |
| `N` | 前の検索結果へ |
| `*` | カーソル下の単語を検索 |

### 保存・終了

| キー | 説明 |
|------|------|
| `:w` | 保存 |
| `:q` | 終了 |
| `:wq` | 保存して終了 |
| `:q!` | 保存せず強制終了 |

---

## カスタムキーバインド

### ファイル・バッファ操作（Snacks.nvim）

| キー | 説明 |
|------|------|
| `<leader>e` | ファイルエクスプローラー |
| `<leader>f` | ファイル検索 |
| `<leader>g` | Gitファイル検索 |
| `<leader>b` | バッファ一覧 |
| `<leader>m` | 最近開いたファイル |
| `<leader>p` | Picker（全機能一覧） |
| `<leader>;` | コマンド履歴 |
| `<leader>D` | 診断（エラー一覧） |
| `<leader>T` | LSPシンボル一覧 |
| `gR` | カーソル下の単語でGrep検索 |
| `gF` | カーソル下の単語でファイル検索 |

### パスのコピー

| キー | 説明 |
|------|------|
| `<leader>cpa` | 絶対パスをコピー |
| `<leader>cpr` | 相対パスをコピー |
| `<leader>cpf` | ファイル名をコピー |

### Git操作

| キー | 説明 |
|------|------|
| `<leader>gg` | LazyGit を開く |
| `<leader>gz` | Diffview（mainとの差分） |
| `<leader>gh` | 現在ファイルの履歴 |
| `<leader>gH` | ブランチ全体の履歴 |

### Claude Code（AI連携）

| キー | 説明 |
|------|------|
| `<leader>aa` | Claude Code 起動/終了 |
| `<leader>af` | Claude Code にフォーカス |
| `<leader>ar` | Claude Code 再開 |
| `<leader>aC` | Claude Code 続行 |
| `<leader>ab` | 現在のバッファをClaudeに追加 |
| `<leader>as` | 選択範囲をClaudeに送信（ビジュアルモード） |
| `<leader>aA` | 差分を受け入れる |
| `<leader>ad` | 差分を拒否する |

### Copilot（AI補完）

| キー | 説明 |
|------|------|
| `Option+]` | 次の補完候補 |
| `Option+[` | 前の補完候補 |

### マルチカーソル

| キー | 説明 |
|------|------|
| `<leader>M` | マルチカーソル開始（選択中の文字/カーソル下の単語） |

---

## LazyVim デフォルト（よく使うもの）

### ウィンドウ操作

| キー | 説明 |
|------|------|
| `<leader>-` | 水平分割 |
| `<leader>\|` | 垂直分割 |
| `Ctrl+h/j/k/l` | ウィンドウ間移動 |
| `<leader>wd` | ウィンドウを閉じる |

### バッファ操作

| キー | 説明 |
|------|------|
| `H` | 前のバッファ |
| `L` | 次のバッファ |
| `<leader>bd` | バッファを閉じる |

### LSP（コード補助）

| キー | 説明 |
|------|------|
| `K` | ホバー情報表示 |
| `gd` | 定義へジャンプ |
| `gr` | 参照一覧 |
| `<leader>ca` | コードアクション |
| `<leader>cr` | リネーム |
| `<leader>cf` | フォーマット |

### その他

| キー | 説明 |
|------|------|
| `<leader>` | Which-key（キーバインド一覧表示） |
| `<leader>l` | Lazy（プラグイン管理） |

---

## 覚え方のコツ

- **`<leader>`の後の最初の文字** がカテゴリを表す
  - `a` = AI (Claude)
  - `b` = Buffer
  - `c` = Code / Copy
  - `g` = Git
  - `f` = File
  - `w` = Window

- **迷ったら `<leader>` を押して待つ** → Which-keyが選択肢を表示してくれます
